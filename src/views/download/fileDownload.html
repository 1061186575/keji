<!--

    /**
     * @author 周鹏
     * @创建日期 2019-05-12
     * @最后修改日期 2019-05-12
     */

-->
<!--
/**
   * 只需引入即可, 所有的修改查看审核页面都通用
   * 主要功能:  侧边栏的文件下载, 注意区分
   */

-->

<style>
    .wrapper {
        width: 800px;
        min-height: 350px;
        border: 1px solid #000;
        margin: 150px auto;
        padding: 5px;
        background: #eee;
        border-radius: 20px;
    }
    .wrapper h1 {
        text-shadow: 0 -1px 5px rgba(0, 0, 0, 0.4);
        color: #60497c;
        font-size: 2em;
        text-align: center;
        font-weight: bold;
    }
    .wrapper a {
        display: inline-block;
        width: 38px;
        height: 30px;
        line-height: 30px;
        padding: 0 18px;
        background: #009688;
        color: #fff;
        white-space: nowrap;
        text-align: center;
        font-size: 14px;
        border: none;
        cursor: pointer;
        outline: none;
        border-radius: 4px;
        text-decoration: none;
    }
</style>

<div class="wrapper">
    <h1>文件下载</h1>
    <div style="padding: 20px">
        <div class="layui-upload-list">
            <table class="layui-table">
                <thead>
                <tr>
                    <th>文件名</th>
                    <th>操作</th>
                </tr>
                </thead>
                <tbody>
                <script type="text/html" template>
                    <tr>
                        <td><span>岳阳市工程技术研究中心申报表.doc</span></td>
                        <td><a href="{{layui.setter.base}}/word/岳阳市工程技术研究中心申报表.doc"  download >下载</a></td>
                    </tr>
                    <tr>
                        <td><span>岳阳市科技型企业创新创业扶持资金项目申请书.doc</span></td>
                        <td><a href="{{layui.setter.base}}/word/岳阳市科技型企业创新创业扶持资金项目申请书.docx"  download >下载</a></td>
                    </tr>
                    <tr>
                        <td><span>岳阳市科技重大专项申请书.docx</span></td>
                        <td><a href="{{layui.setter.base}}/word/岳阳市科技重大专项申请书.docx"  download >下载</a></td>
                    </tr>
                    <tr>
                        <td><span>岳阳市重点实验室申报书.doc</span></td>
                        <td><a href="{{layui.setter.base}}/word/岳阳市重点实验室申报书.doc"  download >下载</a></td>
                    </tr>
                    <tr>
                        <td><span>岳阳市重点研发计划项目申请书.docx</span></td>
                        <td><a href="{{layui.setter.base}}/word/岳阳市重点研发计划项目申请书.docx"  download >下载</a></td>
                    </tr>
                    <tr>
                        <td><span>岳阳市院士工作站申报书.doc</span></td>
                        <td><a href="{{layui.setter.base}}/word/岳阳市院士工作站申报书.doc"  download >下载</a></td>
                    </tr>
                    <tr>
                        <td><span>附件岳阳市科技计划项目申请书.doc</span></td>
                        <td><a href="{{layui.setter.base}}/word/附件岳阳市科技计划项目申请书.doc"  download >下载</a></td>
                    </tr>
                    <tr>
                        <td><span>岳阳市科学技术局科技计划一般合同书.docx</span></td>
                        <td><a href="{{layui.setter.base}}/word/岳阳市科学技术局科技计划一般合同书.docx"  download >下载</a></td>
                    </tr>


                </script>
                </tbody>
            </table>
        </div>
    </div>
</div>

<script>
    layui.use(["form", "table", "upload", "laydate", "element"], function() {
        let $ = layui.jquery;
        let layer = layui.layer;



        // // 通过localStorage 获取id
        // let demoListView = $("#demoList");
        // let projectId = JSON.parse(localStorage.getItem("layuiAdmin")).projectId;
        //
        // // layer.load();
        //
        // $.ajax({
        //     type: "GET",
        //     dataType: "json",
        //     url: "/common/file/getMessa?prjId=" + projectId,
        //     success(data) {
        //         console.log("data", data);
        //         layer.closeAll("loading");
        //
        //         if (data === false) {
        //             layer.alert("暂无任何文件");
        //         }
        //
        //         if (data.length !== 0) {
        //             for (let i = 0; i < data.length; i++) {
        //                 let tr = $(
        //                     "<tr><td>" +
        //                     data[i].name +
        //                     "</td><td>" +
        //                     "<button class='button' href=" +
        //                     data[i].url +
        //                     ">下载</button>" +
        //                     "<button id='delete' class='button' style=\"background:#eb7350;\" name=" +
        //                     data[i].url +
        //                     ">删除</button>" +
        //                     "</td></tr>"
        //                 );
        //                 demoListView.append(tr);
        //             }
        //
        //             $(document).on("click", "#delete", function() {
        //                 let str = $(this).attr("name");
        //                 // console.log('bbbbb',str)
        //                 str = str.split("_")[1].split(".")[0];
        //
        //                 // console.log('bbbbb',str)
        //                 parent.location.reload(); //刷新父亲对象（用于框架）
        //
        //                 $.ajax({
        //                     method: "PUT",
        //                     dataType: "json",
        //                     url: "/common/file/upload/delete?id=" + str
        //                 }).done(function(data) {
        //                     console.log(data);
        //                 });
        //             });
        //         }
        //
        //         // console.log(data[1].url);
        //         console.log(data);
        //     },
        //     error() {
        //         // layer.alert('获取文件信息失败!');
        //         // layer.msg('获取文件信息失败!');
        //         //  layer.closeAll('loading');
        //     }
        // });
    });
</script>
